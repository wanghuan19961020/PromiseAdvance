<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>01_promise的基本使用</title>
</head>
<body>
<script>
  // 1. 创建一个新的 promise
  const p = new Promise((resolve, reject) => { // 执行器函数
    // 2. 执行异步操作任务
    setTimeout(()=> {
      const time = Date.now() // 如果当前时间是偶数就代表成功，否则代表失败
      if(time % 2 === 0) { // 3.1 如果成功了，调用 resolve(value)
        resolve("成功的数据，time=" + time)
      } else { // 3.2 如果失败了，调用 reject(reason)
        reject("失败的数据，time=" + time)
      }
    })
  }).then(value => { // 接收得到成功的 value 数据  onResolved
    console.log("成功的回调 ", value)
  }, reason => { // 接收得到的失败的 reason 数据  onRejected
    console.log("失败的回调 ", reason)
  })
  /*
    成功的回调  成功的数据，time=1604644474094
    或
    失败的回调  失败的数据，time=1604644507259
  */
</script>
</body>
</html>